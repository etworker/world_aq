<svg xmlns="http://www.w3.org/2000/svg" width="600" height="550" viewBox="0 0 600 550" style="font-family: Arial, sans-serif; background-color: #ffffff;">
  <!-- 箭头定义 -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#555" />
    </marker>
    <marker id="arrow-red" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#E74C3C" />
    </marker>
  </defs>

  <!-- 传统架构区域 -->
  <rect x="50" y="20" width="200" height="250" rx="10" fill="#f9f9f9" stroke="#ccc" stroke-dasharray="5,5"/>
  <text x="150" y="45" text-anchor="middle" font-weight="bold" fill="#555">传统架构</text>

  <!-- User 1 -->
  <rect x="100" y="60" width="100" height="40" rx="5" fill="#3498DB" stroke="#2980B9" stroke-width="2"/>
  <text x="150" y="85" text-anchor="middle" fill="white">用户</text>

  <!-- Web -->
  <rect x="100" y="140" width="100" height="40" rx="5" fill="#F39C12" stroke="#D68910" stroke-width="2"/>
  <text x="150" y="165" text-anchor="middle" fill="white">Web Server</text>

  <!-- DB Old -->
  <path d="M100,230 Q100,220 150,220 Q200,220 200,230 L200,260 Q200,270 150,270 Q100,270 100,260 Z" fill="#E74C3C" stroke="#C0392B" stroke-width="2"/>
  <ellipse cx="150" cy="230" rx="50" ry="10" fill="#E74C3C" stroke="#C0392B" stroke-width="2"/>
  <text x="150" y="255" text-anchor="middle" fill="white">单一数据库</text>

  <!-- Traditional Lines -->
  <line x1="150" y1="100" x2="150" y2="135" stroke="#555" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="150" y1="180" x2="150" y2="215" stroke="#555" stroke-width="2" marker-end="url(#arrow)"/>


  <!-- AWS 架构区域 -->
  <rect x="300" y="20" width="250" height="500" rx="10" fill="#f0faff" stroke="#3498DB"/>
  <text x="425" y="45" text-anchor="middle" font-weight="bold" fill="#2980B9">AWS 优化架构</text>

  <!-- User 2 -->
  <rect x="375" y="60" width="100" height="40" rx="5" fill="#3498DB" stroke="#2980B9" stroke-width="2"/>
  <text x="425" y="85" text-anchor="middle" fill="white">用户</text>

  <!-- CloudFront -->
  <rect x="375" y="130" width="100" height="40" rx="5" fill="#95A5A6" stroke="#7F8C8D" stroke-width="2"/>
  <text x="425" y="155" text-anchor="middle" fill="white">CloudFront</text>

  <!-- Redis -->
  <rect x="375" y="200" width="100" height="40" rx="5" fill="#8E44AD" stroke="#6C3483" stroke-width="2"/>
  <text x="425" y="225" text-anchor="middle" fill="white">Redis (Cache)</text>

  <!-- API Gateway -->
  <rect x="375" y="270" width="100" height="40" rx="5" fill="#95A5A6" stroke="#7F8C8D" stroke-width="2"/>
  <text x="425" y="295" text-anchor="middle" fill="white">API Gateway</text>

  <!-- App Runner -->
  <rect x="375" y="340" width="100" height="40" rx="5" fill="#F39C12" stroke="#D68910" stroke-width="2"/>
  <text x="425" y="365" text-anchor="middle" fill="white">App Runner</text>

  <!-- SageMaker & Aurora -->
  <!-- Aurora -->
  <path d="M320,440 Q320,430 370,430 Q420,430 420,440 L420,470 Q420,480 370,480 Q320,480 320,470 Z" fill="#2ECC71" stroke="#27AE60" stroke-width="2"/>
  <ellipse cx="370" cy="440" rx="50" ry="10" fill="#2ECC71" stroke="#27AE60" stroke-width="2"/>
  <text x="370" y="465" text-anchor="middle" fill="white" font-size="12">Aurora DB</text>

  <!-- SageMaker -->
  <rect x="440" y="440" width="100" height="40" rx="5" fill="#F39C12" stroke="#D68910" stroke-width="2"/>
  <text x="490" y="465" text-anchor="middle" fill="white" font-size="11">SageMaker</text>

  <!-- AWS Lines -->
  <line x1="425" y1="100" x2="425" y2="125" stroke="#555" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="425" y1="170" x2="425" y2="195" stroke="#555" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- Cache Miss -->
  <line x1="425" y1="240" x2="425" y2="265" stroke="#E74C3C" stroke-width="2" stroke-dasharray="4,4" marker-end="url(#arrow-red)"/>
  <text x="475" y="255" font-size="10" fill="#E74C3C">Cache Miss</text>

  <line x1="425" y1="310" x2="425" y2="335" stroke="#555" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- App Splitting -->
  <line x1="400" y1="380" x2="380" y2="425" stroke="#555" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="450" y1="380" x2="470" y2="435" stroke="#555" stroke-width="2" marker-end="url(#arrow)"/>

</svg>